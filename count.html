<!DOCTYPE html>
<div class="row">
    <div class="col-sm-12">
        <h4>日注册量</h4>
        <div id="daliy-register-line-chart" style="height: 250px"></div>
    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        <h4>日订单量</h4>
        <div id="daliy-order-line-chart" style="height: 250px"></div>
    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        <h4>日销售额</h4>
        <div id="daliy-order-price-chart" style="height: 250px"></div>
    </div>
</div>

<script>

    $(function () {
        $.ajax({
            type: "GET",
            url: host + "/count/orderCount",
            xhrFields: {
                withCredentials: true
            },
            success: function (msg) {
                if (msg.code == 401) {
                    window.location.href = "login.html"
                }
                if (msg.code == 200) {
                    orderCountData = msg.data
                    var line = new Morris.Line({
                        element: 'daliy-order-line-chart',
                        resize: true,
                        data:orderCountData,
                        xkey: 'time',
                        ykeys: ['num'],
                        labels: ['日订单数'],
                        lineColors: ['#3c8dbc'],
                        hideHover: 'true'
                    });
                }
            }
        })
        $.ajax({
            type: "GET",
            url: host + "/count/accountCount",
            xhrFields: {
                withCredentials: true
            },
            success: function (msg) {
                if (msg.code == 401) {
                    window.location.href = "login.html"
                }
                if (msg.code == 200) {
                    orderCountData = msg.data
                    var line = new Morris.Line({
                        element: 'daliy-register-line-chart',
                        resize: true,
                        data:orderCountData,
                        xkey: 'time',
                        ykeys: ['num'],
                        labels: ['日订单数'],
                        lineColors: ['#3c8dbc'],
                        hideHover: 'true'
                    });
                }
            }
        })
        $.ajax({
            type: "GET",
            url: host + "/count/orderPriceSum",
            xhrFields: {
                withCredentials: true
            },
            success: function (msg) {
                if (msg.code == 401) {
                    window.location.href = "login.html"
                }
                if (msg.code == 200) {
                    orderCountData = msg.data
                    var line = new Morris.Line({
                        element: 'daliy-order-price-chart',
                        resize: true,
                        data:orderCountData,
                        xkey: 'time',
                        ykeys: ['num'],
                        labels: ['日订单数'],
                        lineColors: ['#3c8dbc'],
                        hideHover: 'true'
                    });
                }
            }
        })
    })
</script>